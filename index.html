<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Le Pecheur du Nord</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f8f8f8; margin: 0; padding: 0; }
        .container { max-width: 500px; margin: 24px auto; background: #fff; padding: 16px; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        h1 { text-align: center; color: #333; font-size: 2rem; }
        .section { margin-bottom: 24px; }
        label { display: block; margin-bottom: 8px; font-size: 1.1rem; }
        input[type="checkbox"] { transform: scale(1.3); margin-right: 8px; }
        button { background: #b22222; color: #fff; border: none; padding: 12px 24px; border-radius: 4px; cursor: pointer; font-size: 1.1rem; width: 100%; max-width: 300px; margin: 0 auto; display: block; }
        button:disabled { background: #ccc; }
        .card {
            background: #f0f8ff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(30,136,229,0.08);
            padding: 16px;
            margin-bottom: 20px;
        }
        .form-row {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        .add-btn {
            background: #1e88e5;
            color: #fff;
            border: none;
            padding: 10px 18px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1rem;
            transition: background 0.2s;
        }
        .add-btn:hover {
            background: #1565c0;
        }
        .menu-item-card {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 4px rgba(0,0,0,0.07);
            padding: 12px 16px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
        }
        .menu-item-info {
            display: flex;
            flex-direction: column;
        }
        .menu-item-name {
            font-weight: bold;
            font-size: 1.1rem;
            color: #333;
        }
        .menu-item-category {
            font-size: 0.95rem;
            color: #1e88e5;
        }
        .menu-item-controls {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .menu-item-price {
            width: 70px;
            font-size: 1rem;
            padding: 4px 8px;
            border-radius: 4px;
            border: 1px solid #ccc;
            background: #f8f8f8;
        }
        .menu-item-checkbox {
            transform: scale(1.2);
            margin-right: 4px;
        }
        @media (max-width: 600px) {
            .container { max-width: 98vw; padding: 8vw 2vw; }
            h1 { font-size: 1.5rem; }
            label, .menu-item-name { font-size: 1rem; }
            button, .add-btn { font-size: 1rem; padding: 10px 0; }
            .form-row { flex-direction: column; gap: 8px; }
            .menu-item-card { flex-direction: column; align-items: flex-start; }
        }
    </style>
    <script>
        function saveSettings() {
            var items = [
                'item-bruschetta', 'item-caesar', 'item-spring',
                'item-salmon', 'item-steak', 'item-pasta',
                'item-cake', 'item-cheesecake', 'item-icecream'
            ];
            var settings = {};
            var prices = {};
            items.forEach(function(id) {
                var cb = document.getElementById('cb-' + id);
                var price = document.getElementById('price-' + id);
                if (cb && price) {
                    settings[id] = cb.checked;
                    prices[id] = price.value;
                }
            });
            // Handle dynamic items
            var dynamicItems = JSON.parse(localStorage.getItem('dynamicMenuItems') || '[]');
            dynamicItems.forEach(function(item) {
                var cb = document.getElementById('cb-' + item.id);
                var price = document.getElementById('price-' + item.id);
                if (cb && price) {
                    settings[item.id] = cb.checked;
                    prices[item.id] = price.value;
                }
            });
            localStorage.setItem('menuSettings', JSON.stringify(settings));
            localStorage.setItem('menuPrices', JSON.stringify(prices));
            alert('Menu display settings and prices saved!');
        }

        function renderStaticItems() {
            var staticItems = [
                { id: 'item-bruschetta', name: 'Bruschetta', price: 220, category: 'Appetizers' },
                { id: 'item-caesar', name: 'Caesar Salad', price: 250, category: 'Appetizers' },
                { id: 'item-spring', name: 'Spring Rolls', price: 180, category: 'Appetizers' },
                { id: 'item-salmon', name: 'Grilled Salmon', price: 650, category: 'Mains' },
                { id: 'item-steak', name: 'Steak Frites', price: 800, category: 'Mains' },
                { id: 'item-pasta', name: 'Vegetarian Pasta', price: 500, category: 'Mains' },
                { id: 'item-cake', name: 'Chocolate Cake', price: 250, category: 'Desserts' },
                { id: 'item-cheesecake', name: 'Cheesecake', price: 280, category: 'Desserts' },
                { id: 'item-icecream', name: 'Ice Cream', price: 150, category: 'Desserts' }
            ];
            var prices = JSON.parse(localStorage.getItem('menuPrices') || '{}');
            var settings = JSON.parse(localStorage.getItem('menuSettings') || '{}');
            var container = document.getElementById('static-items');
            container.innerHTML = '';
            staticItems.forEach(function(item) {
                var card = document.createElement('div');
                card.className = 'menu-item-card';
                card.innerHTML = `<div class="menu-item-info">
                    <span class="menu-item-name">${item.name}</span>
                    <span class="menu-item-category">${item.category}</span>
                </div>
                <div class="menu-item-controls">
                    <input type="checkbox" class="menu-item-checkbox" id="cb-${item.id}" ${settings[item.id]!==false?'checked':''}>
                    <input type="number" class="menu-item-price" id="price-${item.id}" min="0" value="${prices[item.id]||item.price}"> Rs
                </div>`;
                container.appendChild(card);
            });
        }

        function renderDynamicItems() {
            var dynamicItems = JSON.parse(localStorage.getItem('dynamicMenuItems') || '[]');
            var prices = JSON.parse(localStorage.getItem('menuPrices') || '{}');
            var settings = JSON.parse(localStorage.getItem('menuSettings') || '{}');
            var container = document.getElementById('dynamic-items');
            container.innerHTML = '';
            dynamicItems.forEach(function(item) {
                var card = document.createElement('div');
                card.className = 'menu-item-card';
                card.innerHTML = `<div class="menu-item-info">
                    <span class="menu-item-name">${item.name}</span>
                    <span class="menu-item-category">${item.category}</span>
                </div>
                <div class="menu-item-controls">
                    <input type="checkbox" class="menu-item-checkbox" id="cb-${item.id}" ${settings[item.id]!==false?'checked':''}>
                    <input type="number" class="menu-item-price" id="price-${item.id}" min="0" value="${prices[item.id]||item.price}"> Rs
                </div>`;
                container.appendChild(card);
            });
        }

        document.getElementById('add-item-form').onsubmit = function(e) {
            e.preventDefault();
            var name = document.getElementById('new-item-name').value.trim();
            var price = document.getElementById('new-item-price').value;
            var category = document.getElementById('new-item-category').value;
            if (!name || !price || !category) return;
            var id = 'item-' + name.toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9\-]/g, '');
            var dynamicItems = JSON.parse(localStorage.getItem('dynamicMenuItems') || '[]');
            // Prevent duplicate
            if (dynamicItems.some(function(item) { return item.id === id; })) {
                alert('Item already exists!');
                return;
            }
            dynamicItems.push({ id, name, price, category });
            localStorage.setItem('dynamicMenuItems', JSON.stringify(dynamicItems));
            renderDynamicItems();
            document.getElementById('add-item-form').reset();
        };

        window.onload = function() {
            renderStaticItems();
            renderDynamicItems();
        };
    </script>
</head>
<body>
    <div class="container">
        <h1>Menu Control Panel</h1>
        <div class="section">
            <strong>Select which items to display and set prices:</strong>
            <form id="add-item-form" class="card">
                <h3 style="margin-top:0; color:#1e88e5;">Add New Menu Item</h3>
                <div class="form-row">
                    <input type="text" id="new-item-name" placeholder="Food Name" required>
                    <input type="number" id="new-item-price" min="0" placeholder="Price" required>
                    <select id="new-item-category" required>
                        <option value="Appetizers">Appetizers</option>
                        <option value="Mains">Mains</option>
                        <option value="Desserts">Desserts</option>
                    </select>
                    <button type="submit" class="add-btn">Add</button>
                </div>
            </form>
            <div id="dynamic-items"></div>
            <div id="static-items"></div>
        </div>
        <button onclick="saveSettings()">Save Display Settings</button>
        <div style="margin-top:24px; text-align:center;">
            <a href="menu.html" target="_blank">View Menu Page</a>
        </div>
    </div>
</body>
</html>
